[tox]
envlist = py27,py34,pypy,cover

[testenv]
commands =
    python setup.py -q nosetests --with-doctest --tests=flowy.tests.test_swf_integration,flowy.tests.test_swf,flowy.tests.test_local,flowy.serialization
    sphinx-build -q -b doctest docs build/sphinx/test
deps =
    sphinx

[testenv:py27]
setenv = 
    COVERAGE_FILE=.coverage.py27

[testenv:py34]
setenv = 
    COVERAGE_FILE=.coverage.py34

[testenv:pypy]
setenv =
    COVERAGE_FILE=.coverage.pypy

[testenv:cover]
deps =
    coverage
commands =
    coverage combine
    coverage html -d cover/
